(this["webpackJsonptopsis-react"]=this["webpackJsonptopsis-react"]||[]).push([[0],{114:function(e,t){},115:function(e){e.exports=JSON.parse('{"INSERTCRITERIA":"Insira os crit\xe9rios","INSERTDATASET":"Insira as alternativas","SEERESULTS":"Veja o resultado","TITLE":"TOPSIS React","BUTTON_NEXT":"Pr\xf3ximo","BUTTON_FINISH":"Finalizar","BUTTON_BACK":"Voltar","DATA_COLUMN_NAME":"Nome","DATA_COLUMN_CRITERION":"Crit\xe9rio","DATA_COLUMN_TYPE":"Tipo","DATA_COLUMN_WEIGHT":"Peso","CRITERION_TYPE_COST":"Custo","CRITERION_TYPE_BENEFIT":"Benef\xedcio","BUTTONS_REMOVE":"Remove","BUTTONS_LOAD":"Carregar","BUTTONS_ADD":"Adicionar","UNKNOWN_STEP":"Etapa desconhecida","ALL_STEPS_COMPLETED":"Todas as etapas completadas"}')},116:function(e){e.exports=JSON.parse('{"INSERTCRITERIA":"Insert your criteria","INSERTDATASET":"Insert your dataset","SEERESULTS":"See the results","TITLE":"TOPSIS React","BUTTON_NEXT":"Next","BUTTON_FINISH":"Finish","BUTTON_BACK":"Back","DATA_COLUMN_NAME":"Name","DATA_COLUMN_CRITERION":"Criterion","DATA_COLUMN_TYPE":"Type","DATA_COLUMN_WEIGHT":"Weight","CRITERION_TYPE_COST":"Cost","CRITERION_TYPE_BENEFIT":"Benefit","BUTTONS_REMOVE":"Remove","BUTTONS_LOAD":"Load","BUTTONS_ADD":"Add","UNKNOWN_STEP":"Unknown Step","ALL_STEPS_COMPLETED":"All steps completed"}')},173:function(e,t){},174:function(e,t){},175:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a(15),r=a.n(i),c=a(238),s=a(243),l=a(242),o=a(241),d=a(239),u=a(181),b=a(244),O=a(16),j=a(13),m=a(7),h=a(247),f=a(240),T=a(245),p=a(46),N=a(231),E=a(235),x=a(234),g=a(228),_=a(232),v=a(233),A=a(97),S=a(246),C=a(5);function I(e){var t=Object(S.a)().t,a=[{name:t("DATA_COLUMN_CRITERION"),attribute:"criterionName"},{name:t("DATA_COLUMN_TYPE"),attribute:"type"},{name:t("DATA_COLUMN_WEIGHT")+" (%)",attribute:"weight"},{name:t("BUTTONS_REMOVE")}];return Object(C.jsx)(g.a,{component:A.a,children:Object(C.jsxs)(N.a,{"aria-label":"a dense table",children:[Object(C.jsx)(_.a,{children:Object(C.jsx)(v.a,{children:a.map((function(e,t){return 0===t?Object(C.jsx)(x.a,{children:e.name},e.name):Object(C.jsx)(x.a,{align:"center",children:e.name},e.name)}))})}),Object(C.jsx)(E.a,{children:e.rows.map((function(a,n){return Object(C.jsxs)(v.a,{children:[Object(C.jsx)(x.a,{component:"th",scope:"row",children:a.criterionName}),Object(C.jsx)(x.a,{align:"center",children:1===a.type?t("CRITERION_TYPE_COST"):t("CRITERION_TYPE_BENEFIT")}),Object(C.jsx)(x.a,{align:"center",children:a.weight}),Object(C.jsx)(x.a,{align:"center",children:Object(C.jsxs)(p.a,{variant:"contained",color:"secondary",onClick:function(){return e.removeRow(n)},children:[" ",t("BUTTONS_REMOVE")," "]})})]},a.criterionName)}))})]})})}var R=a(31),y=a(138),U=a(63),M=a(101),w=a(42),D=a(102),L=a(29),B=Object(L.a)((function(e){return{formControl:{margin:e.spacing(0,1),minWidth:150},button:{margin:e.spacing(1,0)},form:{margin:e.spacing(2,0)}}}));function P(e){var t={criterionName:"",weight:0,type:1},a=B(),i=Object(n.useState)(t),r=Object(m.a)(i,2),c=r[0],s=r[1],l=Object(S.a)().t,o=function(e){var t=e.target,a=t.name,n=t.value;s(Object(j.a)(Object(j.a)({},c),{},Object(R.a)({},a,n)))},d=c.criterionName,u=c.weight,O=c.type;return Object(C.jsxs)("form",{disabled:!0,className:a.form,onSubmit:function(a){a.preventDefault(),e.handleSubmit(c),s(t)},children:[Object(C.jsxs)(b.a,{display:"flex",flexDirection:"row",children:[Object(C.jsx)(y.a,{disabled:e.disabled,required:!0,name:"criterionName",className:a.input,label:l("DATA_COLUMN_CRITERION"),variant:"filled",value:d,onChange:o}),Object(C.jsxs)(U.a,{disabled:e.disabled,required:!0,className:a.formControl,variant:"filled",children:[Object(C.jsx)(D.a,{id:"label-type",children:l("DATA_COLUMN_TYPE")}),Object(C.jsxs)(M.a,{labelId:"label-type",name:"type",value:O,onChange:o,children:[Object(C.jsx)(w.a,{value:1,children:l("CRITERION_TYPE_COST")}),Object(C.jsx)(w.a,{value:2,children:l("CRITERION_TYPE_BENEFIT")})]})]}),Object(C.jsx)(y.a,{disabled:e.disabled,required:!0,className:a.input,type:"number",name:"weight",label:l("DATA_COLUMN_WEIGHT")+" (%)",variant:"filled",value:u,onChange:o})]}),Object(C.jsxs)(p.a,{disabled:e.disabled,className:a.button,type:"submit",variant:"contained",color:"primary",children:[" ",l("BUTTONS_ADD")," "]})]})}var F=a(123);function k(e){return Object(C.jsx)("div",{style:{width:"100%",height:300},children:Object(C.jsx)(F.a,{rows:e.dataset,columns:e.columns,pageSize:5,loading:e.loading})})}var G=Object(L.a)((function(e){return{formControl:{margin:e.spacing(0,1),minWidth:150},input:{minWidth:100,margin:e.spacing(0,1)},button:{margin:e.spacing(1,1,1,0)},form:{margin:e.spacing(2,0)}}})),W=["xlsx","xlsb","xlsm","xls","xml","csv","txt","ods","fods","uos","sylk","dif","dbf","prn","qpw","123","wb*","wq*","html","htm"].map((function(e){return"."+e})).join(",");function Y(e){var t={name:""};e.fields.forEach((function(e){t[e]=""}));var a=G(),i=Object(n.useState)(t),r=Object(m.a)(i,2),c=r[0],s=r[1],l=Object(S.a)().t,o=function(t){var a=t.target,n=a.name,i=a.value;if("file-input"===n){var r=t.target.files;r&&r[0]&&e.handleFile(r[0])}else s(Object(j.a)(Object(j.a)({},c),{},Object(R.a)({},n,i)))};return Object(C.jsxs)("form",{className:a.form,onSubmit:function(a){a.preventDefault(),e.handleSubmit(c),s(t)},children:[Object(C.jsxs)(b.a,{display:"flex",flexDirection:"row",children:[Object(C.jsx)(y.a,{disabled:e.disabled,required:!0,name:"name",label:l("DATA_COLUMN_NAME"),variant:"filled",value:c.name,onChange:o}),e.fields.map((function(t,n){return Object(C.jsx)(y.a,{disabled:e.disabled,required:!0,className:a.input,type:"number",name:t,label:t,variant:"filled",value:c[t],onChange:o},n)}))]}),Object(C.jsxs)(p.a,{disabled:e.disabled,className:a.button,type:"submit",variant:"contained",color:"primary",children:[" ",l("BUTTONS_ADD")," "]}),Object(C.jsx)("input",{className:a.input,style:{display:"none"},type:"file",id:"raised-button-file",name:"file-input",accept:W,onChange:o}),Object(C.jsx)("label",{htmlFor:"raised-button-file",children:Object(C.jsx)(p.a,{disabled:e.disabled,variant:"contained",component:"span",color:"secondary",className:a.button,children:l("BUTTONS_LOAD")})})]})}var q=a(125);function H(e,t){var a,n=t.map((function(e){return e.weight})),i=function(e){return e.reduce((function(e,t){return t+e}))},r=e.map((function(t){return t.map((function(t,a){return t/Math.sqrt(function(t){return i(e.map((function(e){return Math.pow(e[t],2)})))}(a))}))})).map((function(e){return e.map((function(e,t){return n[t]*e}))})),c=[],s=[],l=Object(q.a)(t);try{var o=function(){var e=a.value,n=r.map((function(a){return a[t.indexOf(e)]})),i=Math.min.apply(Math,Object(O.a)(n)),l=Math.max.apply(Math,Object(O.a)(n));c.push(1===e.type?i:l),s.push(1===e.type?l:i)};for(l.s();!(a=l.n()).done;)o()}catch(b){l.e(b)}finally{l.f()}var d=r.map((function(e){return Math.sqrt(i(e.map((function(e,t){return Math.pow(c[t]-e,2)}))))})),u=r.map((function(e){return Math.sqrt(i(e.map((function(e,t){return Math.pow(s[t]-e,2)}))))})).map((function(e,t){return e/(d[t]+e)}));return Object(O.a)(u).sort().reverse().map((function(e){return u.indexOf(e)}))}function V(e){var t=[{field:"ranking",headerName:"#",type:"number",width:60},{field:"name",headerName:(0,Object(S.a)().t)("DATA_COLUMN_NAME"),width:160}],a=Object(n.useState)(!0),i=Object(m.a)(a,2),r=i[0],c=i[1],s=Object(n.useState)([]),l=Object(m.a)(s,2),o=l[0],d=l[1];return Object(n.useEffect)((function(){var t=e.criteria.map((function(e){return{name:e.criterionName,type:e.type,weight:parseFloat(e.weight/100)}})),a=H(e.dataset.map((function(e){return Object(O.a)(t.map((function(t){return e[t.name]})))})),t);setTimeout((function(){d(a.map((function(t,a){return{id:a,name:e.dataset[t].name,ranking:a+1}}))),c(!1)}),1e3)}),[e.criteria,e.dataset]),Object(C.jsx)(k,{loading:r,dataset:o,columns:t})}var J=a(94),K=a.n(J),z=a(95),X=a(62),Q=a(115),Z=a(116),$=a(128);z.a.use($.a).use(X.e).init({fallbackLng:"en",whitelist:["en","pt"],resources:{pt:{translation:Q},en:{translation:Z}},debug:!0,interpolation:{escapeValue:!1}});var ee=z.a;var te=Object(L.a)((function(e){return{root:{margin:e.spacing(6,0,3),width:"100%"},button:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}));function ae(e){var t=te(),a=Object(S.a)().t,i=a("DATA_COLUMN_NAME"),r=Object(n.useState)({criteria:[],sum:0,disabledForm:!1,disableGrid:!0,disableResults:!0,dataset:[],loading:!1}),c=Object(m.a)(r,2),s=c[0],l=c[1],o=Object(n.useState)(0),d=Object(m.a)(o,2),N=d[0],E=d[1],x=["INSERTCRITERIA","INSERTDATASET","SEERESULTS"],g=function(e){var t=s.sum+parseInt(e.weight);l(Object(j.a)(Object(j.a)({},s),{},{criteria:[].concat(Object(O.a)(s.criteria),[Object(j.a)(Object(j.a)({},e),{},{weight:parseInt(e.weight)})]),sum:t,disabledForm:t>=100,disableGrid:!1}))},_=function(e,t){var a=Object(j.a)({},e);return a.name=a[i],delete a[i],Object(j.a)(Object(j.a)({},a),{},{name:a.name,id:t+s.dataset.length})},v=function(e){l(Object(j.a)(Object(j.a)({},s),{},{dataset:[].concat(Object(O.a)(s.dataset),[Object(j.a)(Object(j.a)({},e),{},{id:s.dataset.length})]),disableResults:!1}))},A=function(e){l(Object(j.a)(Object(j.a)({},s),{},{loading:!0}));var t=new FileReader,a=!!t.readAsBinaryString;t.onload=function(e){var t=e.target.result,n=K.a.read(t,{type:a?"binary":"array"}),i=n.SheetNames[0],r=n.Sheets[i],c=K.a.utils.sheet_to_json(r,{header:0});console.log(c.map(_)),l(Object(j.a)(Object(j.a)({},s),{},{dataset:c.map(_),disableResults:!1,loading:!1}))},a?t.readAsBinaryString(e):t.readAsArrayBuffer(e)},R=function(){if(0!==s.criteria.length){var e=JSON.parse(JSON.stringify(s.criteria)),t=e.length,a=e.map((function(e,a){return Math.random()*(t-a)+1e-4})),n=a.reduce((function(e,t){return e+t}),0);if(0===n){var i=Math.floor(100/e.length),r=100%e.length;return e.forEach((function(e,t){e.weight=i+(r>0?1:0),r>0&&r--})),void l(Object(j.a)(Object(j.a)({},s),{},{criteria:e,sum:100,disabledForm:!0}))}for(var c=e.map((function(e,t){var i=a[t]/n*100;return Math.round(i)})),o=100-c.reduce((function(e,t){return e+t}),0),d=0;d<Math.abs(o);d++){var u=d%c.length;if(o>0)c[u]++;else if(c[u]>0)c[u]--;else for(var b=0;b<c.length;b++){var O=(u+b+1)%c.length;if(c[O]>0){c[O]--;break}}}e.forEach((function(e,t){e.weight=c[t]})),l(Object(j.a)(Object(j.a)({},s),{},{criteria:e,sum:100,disabledForm:!0,disableGrid:!1}))}};var y=function(e){var t=s.sum-parseInt(s.criteria[e].weight);l(Object(j.a)(Object(j.a)({},s),{},{criteria:Object(O.a)(s.criteria.filter((function(t,a){return a!==e}))),sum:t,disabledForm:t>=100,disableGrid:0===t}))};return Object(C.jsxs)(b.a,{className:t.root,children:[Object(C.jsx)(h.a,{activeStep:N,children:x.map((function(e,t){return Object(C.jsx)(f.a,Object(j.a)(Object(j.a)({},{}),{},{children:Object(C.jsx)(T.a,Object(j.a)(Object(j.a)({},{}),{},{children:a(e)}))}),e)}))}),N===x.length?Object(C.jsxs)("div",{children:[Object(C.jsx)(u.a,{className:t.instructions,children:a("ALL_STEPS_COMPLETED")}),Object(C.jsx)(p.a,{onClick:function(){E(0)},className:t.button,children:"Reset"})]}):Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{children:function(e){switch(e){case 0:return Object(C.jsxs)(b.a,{children:[Object(C.jsx)(I,{rows:s.criteria,removeRow:y}),Object(C.jsxs)(b.a,{mt:2,mb:2,children:[" ",Object(C.jsx)(p.a,{variant:"outlined",color:"secondary",className:t.button,onClick:R,disabled:0===s.criteria.length,children:"Randomize Weights"})]}),Object(C.jsx)(P,{disabled:s.disabledForm,handleSubmit:g})]});case 1:return Object(C.jsxs)(b.a,{children:[Object(C.jsx)(k,{dataset:s.dataset,disable:s.disableGrid,columns:(n=s.criteria,[{field:"name",headerName:ee.t("DATA_COLUMN_NAME"),width:200}].concat(Object(O.a)(n.map((function(e){return{field:e.criterionName,headerName:[].concat(Object(O.a)(e.criterionName[0].toUpperCase()),[e.criterionName.slice(1)]),type:"number",width:160}}))))),loading:s.loading}),Object(C.jsx)(Y,{fields:s.criteria.map((function(e){return e.criterionName})),disabled:s.disableGrid,handleSubmit:v,handleFile:A})]});case 2:return Object(C.jsx)(b.a,{children:Object(C.jsx)(V,{dataset:s.dataset,disable:s.disableResults,criteria:s.criteria})});default:return Object(C.jsx)(u.a,{children:a("UNKNOWN_STEP")})}var n}(N)}),Object(C.jsxs)("div",{children:[Object(C.jsx)(p.a,{disabled:0===N,onClick:function(){E((function(e){return e-1}))},className:t.button,children:a("BUTTON_BACK")}),Object(C.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){E((function(e){return e+1}))},disabled:0===N&&s.disableGrid||1===N&&s.disableResults,className:t.button,children:N===x.length-1?a("BUTTON_FINISH"):a("BUTTON_NEXT")})]})]})]})}var ne=Object(L.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1,textAlign:"center"}}}));var ie=function(){var e=ne(),t=Object(S.a)().t;return Object(C.jsxs)(b.a,{className:e.root,children:[Object(C.jsx)(o.a,{position:"static",children:Object(C.jsx)(d.a,{children:Object(C.jsx)(n.Suspense,{fallback:"loading...",children:Object(C.jsx)(u.a,{variant:"h6",className:e.title,component:"h1",children:t("TITLE")})})})}),Object(C.jsx)(l.a,{maxWidth:"md",children:Object(C.jsx)(ae,{})})]})},re=a(85),ce=a(49),se=Object(ce.a)({palette:{primary:{main:"#2364AA"},secondary:{main:"#3DA5D9"},error:{main:re.a.A400},background:{default:"#fff"}}});r.a.render(Object(C.jsxs)(c.a,{theme:se,children:[Object(C.jsx)(s.a,{}),Object(C.jsx)(n.Suspense,{fallback:null,children:Object(C.jsx)(ie,{})})]}),document.querySelector("#root"))}},[[175,1,2]]]);
//# sourceMappingURL=main.32602c22.chunk.js.map